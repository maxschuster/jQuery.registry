/*
 * Copyright 2012 Max Schuster 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 */
(function(e){var d={};e.registry=function(c){function g(a,b){if(d[a]&&d[a][b])return d[a][b]}function h(a,b,c){var f;f=d[a]?d[a]:d[a]={};f[b]!==c&&(k&&e.publish("/registry/"+a+"/"+b,{app:a,key:b,value:c}),f[b]=c)}var k="function"===typeof e.publish,i=arguments.length;if(2===i){if("string"===typeof arguments[1])return g(c,arguments[1]);if("[object Array]"===Object.prototype.toString.call(arguments[1])){var j={};e.each(arguments[1],function(a,b){j[b]=g(c,b)});return j}if("object"===typeof arguments[1]){e.each(arguments[1],
function(a,b){h(c,a,b)});return}}else if(3===i&&"string"===typeof arguments[1]){h(c,arguments[1],arguments[2]);return}throw Error("Invalid arguments");}})(jQuery);